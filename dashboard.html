<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7SIM - 专业接码服务平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4bb543;
            --danger: #e74c3c;
            --warning: #ff9800;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body { 
            background: #f5f7fb; 
            color: var(--dark); 
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }
        
        /* 导航栏 */
        header { 
            background: white; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
            position: sticky; 
            top: 0; 
            z-index: 100; 
        }
        
        .navbar { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 15px 0; 
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 700; 
            color: var(--primary); 
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 8px;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .wallet-info { 
            display: flex; 
            align-items: center; 
            background: var(--light); 
            padding: 8px 15px; 
            border-radius: 20px; 
            margin-right: 15px; 
            font-weight: 500;
        }
        
        .btn { 
            padding: 8px 20px; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
            font-weight: 500; 
            transition: all 0.3s;
        }
        
        .btn-primary { 
            background: var(--primary); 
            color: white; 
        }
        
        .btn-primary:hover {
            background: var(--secondary);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #3d9a36;
        }
        
        /* 主布局 */
        .dashboard-layout {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            min-height: calc(100vh - 100px);
        }
        
        .left-panel {
            width: 350px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            height: fit-content;
        }
        
        .right-panel {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .panel-section {
            margin-bottom: 25px;
        }
        
        .panel-section h3 {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: var(--dark);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .search-bar {
            position: relative;
            margin-bottom: 15px;
        }
        
        .search-bar i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        
        .search-bar input {
            width: 100%;
            padding: 10px 10px 10px 35px;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        /* 已选择项样式 */
        .selected-item {
            display: flex;
            align-items: center;
            background: var(--light);
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        
        .selected-item-content {
            flex: 1;
            display: flex;
            align-items: center;
        }
        
        .selected-item-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .selected-item-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .remove-selection {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            border-radius: 4px;
        }
        
        .remove-selection:hover {
            color: var(--danger);
            background: rgba(231, 76, 60, 0.1);
        }
        
        /* 服务列表 */
        .services-list, .countries-list, .operators-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .service-item, .country-item, .operator-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid var(--light-gray);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .service-item:hover, .country-item:hover, .operator-item:hover {
            background: var(--light);
        }
        
        .service-item.selected, .country-item.selected, .operator-item.selected {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }
        
        .service-info, .country-info, .operator-info {
            display: flex;
            align-items: center;
            flex: 1;
        }
        
        .service-icon-small, .country-flag-small, .operator-icon-small {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .country-flag-small img {
            width: 100%;
            height: 100%;
            border-radius: 2px;
            object-fit: cover;
        }
        
        .service-name, .country-name, .operator-name {
            font-weight: 500;
            flex: 1;
        }
        
        .service-numbers, .country-numbers, .operator-numbers {
            color: var(--gray);
            font-size: 0.9rem;
            margin-right: 10px;
        }
        
        .service-price, .country-price, .operator-price {
            color: var(--success);
            font-weight: 600;
            min-width: 60px;
            text-align: right;
        }

        .price-range {
    color: var(--success);
    font-weight: 600;
    font-size: 0.85rem;
}
        /* 获取号码按钮 */
        .get-number-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 20px;
        }
        
        /* 右侧面板样式 */
        .service-details {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .service-tabs {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 25px;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* 主页内容 */
        .service-info-card {
            background: var(--light);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .service-info-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .service-info-icon {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            color: var(--primary);
            font-size: 2.5rem;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        }
        
        .service-info-text {
            flex: 1;
        }
        
        .service-info-name {
            font-weight: 700;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .service-info-description {
            color: var(--gray);
            font-size: 1rem;
        }
        
        .service-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .service-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background: var(--light);
            border-radius: 8px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 1.5rem;
        }
        
        .feature-card h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .feature-card p {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* FAQ内容 */
        .faq-list {
            max-width: 800px;
        }
        
        .faq-item {
            margin-bottom: 20px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .faq-question {
            padding: 20px;
            background: var(--light);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        
        .faq-answer {
            padding: 20px;
            background: white;
            display: none;
        }
        
        .faq-item.active .faq-answer {
            display: block;
        }
        
        /* API内容 */
        .api-section {
            max-width: 800px;
        }
        
        .api-docs {
            background: var(--light);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .api-endpoint {
            background: white;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }
        
        .endpoint-method {
            display: inline-block;
            padding: 4px 8px;
            background: var(--primary);
            color: white;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .endpoint-url {
            font-family: monospace;
            font-size: 0.95rem;
        }
        
        /* 购买指南 */
        .purchase-steps {
            max-width: 800px;
        }
        
        .step {
            display: flex;
            margin-bottom: 30px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-content h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .dashboard-layout {
                flex-direction: column;
            }
            
            .left-panel {
                width: 100%;
            }
            
            .service-stats, .service-features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header>
        <div class="container">
            <div class="navbar">
                <a href="dashboard.html" class="logo">
                    <i class="fas fa-sim-card"></i>
                    <span>7SIM</span>
                </a>
                  
               <div style="display: flex; align-items: center;">
    <div class="wallet-info">
        <i class="fas fa-wallet"></i>
        <span id="balanceAmount">$0</span>
    </div>
    <button class="btn btn-primary" id="rechargeBtn" style="margin-right: 10px;">充值</button>
    
    <!-- 用户菜单 -->
    <div class="user-menu" style="position: relative;">
        <div class="user-avatar" id="userAvatar" style="width: 40px; height: 40px; border-radius: 50%; background: var(--light-gray); display: flex; align-items: center; justify-content: center; cursor: pointer; margin-left: 15px;">
            <i class="fas fa-user"></i>
        </div>
        <div class="user-dropdown" id="userDropdown" style="display: none; position: absolute; top: 100%; right: 0; background: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 8px; padding: 10px 0; min-width: 200px; z-index: 1000; margin-top: 10px;">
            <div class="user-dropdown-item" style="padding: 10px 20px; cursor: pointer; display: flex; align-items: center;">
                <i class="fas fa-id-card" style="margin-right: 10px;"></i>
                <span>用户ID: <span id="dropdownUserId">-</span></span>
            </div>
            <div class="user-dropdown-item" style="padding: 10px 20px; cursor: pointer; display: flex; align-items: center;">
                <i class="fas fa-wallet" style="margin-right: 10px;"></i>
                <span>余额: $<span id="dropdownBalance">0.00</span></span>
            </div>
            <div style="height: 1px; background: var(--light-gray); margin: 5px 0;"></div>
            <div class="user-dropdown-item" style="padding: 10px 20px; cursor: pointer; display: flex; align-items: center;" onclick="userLogout()">
                <i class="fas fa-sign-out-alt" style="margin-right: 10px;"></i>
                <span>退出登录</span>
            </div>
        </div>
    </div>
</div>
            </div>
        </div>
    </header>

    <!-- 主内容区域 -->
    <div class="container main-content">
        <div class="dashboard-layout">
            <!-- 左侧面板 - 接码流程 -->
            <div class="left-panel">
                <div class="panel-section">
                    <h3>1. 选择服务</h3>
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="serviceSearch" placeholder="寻找网站或者APP">
                    </div>
                    
                    <!-- 已选择的服务 -->
                    <div class="selected-item" id="selectedServiceItem" style="display: none;">
                        <div class="selected-item-content">
                            <div class="selected-item-icon" id="selectedServiceIcon">
                                <i class="fab fa-whatsapp"></i>
                            </div>
                            <div class="selected-item-name" id="selectedServiceName">WhatsApp</div>
                        </div>
                        <button class="remove-selection" id="removeServiceSelection">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="services-list" id="servicesList">
                        <!-- 服务列表会动态加载 -->
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>2. 选择国家</h3>
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="countrySearch" placeholder="寻找国家">
                    </div>
                    
                    <!-- 已选择的国家 -->
                    <div class="selected-item" id="selectedCountryItem" style="display: none;">
                        <div class="selected-item-content">
                            <div class="selected-item-icon" id="selectedCountryIcon">
                                <img src="https://flagcdn.com/w40/gb.png" alt="英国" style="width: 100%; height: 100%; border-radius: 6px;">
                            </div>
                            <div class="selected-item-name" id="selectedCountryName">英国</div>
                        </div>
                        <button class="remove-selection" id="removeCountrySelection">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="countries-list" id="countriesList">
                        <!-- 国家列表会动态加载 -->
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>3. 选择运营商</h3>
                    <div class="operators-list" id="operatorsList">
                        <!-- 运营商列表会动态加载 -->
                    </div>
                </div>
                
                <div class="price-calculation" id="priceCalculation" style="display: none;">
                    <div class="price-item">
                        <span class="price-label">服务价格:</span>
                        <span class="price-value" id="servicePriceValue">$0.00</span>
                    </div>
                    <div class="price-item">
                        <span class="price-label">国家价格:</span>
                        <span class="price-value" id="countryPriceValue">$0.00</span>
                    </div>
                    <div class="total-price">
                        <span>总计:</span>
                        <span id="totalPriceValue">$0.00</span>
                    </div>
                </div>
                
                <button class="btn btn-primary get-number-btn" id="getNumberBtn" disabled>获取号码</button>
            </div>
            
            <!-- 右侧面板 - 服务信息 -->
            <div class="right-panel">
                <div class="service-details">
                    <div class="service-tabs">
                        <div class="tab active" data-tab="home">主页</div>
                        <div class="tab" data-tab="faq">FAQ</div>
                        <div class="tab" data-tab="api">API</div>
                        <div class="tab" data-tab="purchase">怎么购买？</div>
                    </div>
                    
                    <!-- 主页内容 -->
                    <div class="tab-content active" id="home-tab">
                        <div class="service-info-card">
                            <div class="service-info-header">
                                <div class="service-info-icon" id="serviceMainIcon">
                                    <i class="fas fa-sim-card"></i>
                                </div>
                                <div class="service-info-text">
                                    <div class="service-info-name" id="serviceMainName">7SIM 虚拟号码服务</div>
                                    <div class="service-info-description">用于接收短信和激活任何服务的虚拟号码</div>
                                </div>
                            </div>
                            
                            <div class="service-stats">
                                <div class="stat-card">
                                    <div class="stat-value">500,000+</div>
                                    <div class="stat-label">手机号码在线</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">180+</div>
                                    <div class="stat-label">国家/地区</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">24/7</div>
                                    <div class="stat-label">全天候服务</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">$0.05</div>
                                    <div class="stat-label">起价</div>
                                </div>
                            </div>
                            
                            <div class="service-features">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-globe"></i>
                                    </div>
                                    <h3>全球覆盖</h3>
                                    <p>有50多万个来自180个国家的手机号码同时在线，包括英国、美国、加拿大、泰国、印度尼西亚等</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-sync"></i>
                                    </div>
                                    <h3>实时更新</h3>
                                    <p>天天添加新的虚拟号码，确保号码新鲜度和可用性</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <h3>价格实惠</h3>
                                    <p>一个号码的价格从$0.05起，无需支付移动运营商月费</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-headset"></i>
                                    </div>
                                    <h3>24/7 客服支持</h3>
                                    <p>客户支持提供24小时服务，通过聊天工具和社交网络解决所有问题</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="text-align: center; color: var(--gray); margin-top: 30px;">
                            <p><strong>针对各个服务的价格限制来存钱！</strong></p>
                            <p>天天添加新的虚拟号码，一个号码的价格从 $0.05 起，这样大家不必支付移动运营商的月费</p>
                        </div>
                    </div>
                    
                    <!-- FAQ内容 -->
                    <div class="tab-content" id="faq-tab">
                        <h2 style="margin-bottom: 25px;">常见问题解答</h2>
                        <div class="faq-list">
                            <div class="faq-item">
                                <div class="faq-question">
                                    什么是虚拟号码？
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    虚拟号码是一种在线电话号码，可以用于接收短信和验证码，但不需要实体SIM卡。它可以帮助您保护隐私，注册各种在线服务。
                                </div>
                            </div>
                            <div class="faq-item">
                                <div class="faq-question">
                                    如何购买虚拟号码？
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    首先充值您的账户余额，然后选择需要的服务和国家，系统会自动显示价格。点击"获取号码"即可获得一个虚拟号码。
                                </div>
                            </div>
                            <div class="faq-item">
                                <div class="faq-question">
                                    号码可以使用多久？
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    大多数号码的有效期为20分钟到24小时，具体取决于您选择的服务类型。在有效期内，您可以接收多条短信。
                                </div>
                            </div>
                            <div class="faq-item">
                                <div class="faq-question">
                                    支持哪些服务？
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    我们支持几乎所有主流服务，包括WhatsApp、Telegram、Facebook、Twitter、Instagram、Google、Amazon等。
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- API内容 -->
                    <div class="tab-content" id="api-tab">
                        <h2 style="margin-bottom: 25px;">API 文档</h2>
                        <div class="api-section">
                            <div class="api-docs">
                                <h3 style="margin-bottom: 15px;">面向开发者和用户的API</h3>
                                <p style="margin-bottom: 20px;">使用我们的API可以自动化获取号码和接收短信的过程。</p>
                                
                                <div class="api-endpoint">
                                    <span class="endpoint-method">GET</span>
                                    <span class="endpoint-url">/api/getNumber?service=whatsapp&country=us</span>
                                </div>
                                
                                <div class="api-endpoint">
                                    <span class="endpoint-method">GET</span>
                                    <span class="endpoint-url">/api/getSMS?number=+1234567890</span>
                                </div>
                                
                                <div class="api-endpoint">
                                    <span class="endpoint-method">GET</span>
                                    <span class="endpoint-url">/api/getBalance</span>
                                </div>
                            </div>
                            
                            <p>在接码平台、高质量VPN/代理、浏览器的用户代理和可靠的软件的帮助下确保不间断运行</p>
                        </div>
                    </div>
                    
                    <!-- 购买指南 -->
                    <div class="tab-content" id="purchase-tab">
                        <h2 style="margin-bottom: 25px;">购买指南</h2>
                        <div class="purchase-steps">
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>充值账户</h3>
                                    <p>首先需要充值您的账户余额。我们支持多种支付方式，包括支付宝、微信支付、信用卡等。</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>选择服务</h3>
                                    <p>在左侧面板选择您需要的服务，如WhatsApp、Telegram等。</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>选择国家</h3>
                                    <p>选择您需要的号码所在国家，不同国家的价格可能不同。</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h3>获取号码</h3>
                                    <p>点击"获取号码"按钮，系统会为您分配一个可用的虚拟号码。</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">5</div>
                                <div class="step-content">
                                    <h3>接收短信</h3>
                                    <p>使用获取的号码注册服务，系统会自动接收并显示验证码短信。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 用户菜单功能
document.getElementById('userAvatar').addEventListener('click', function() {
    const dropdown = document.getElementById('userDropdown');
    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
});

// 点击其他地方关闭下拉菜单
window.addEventListener('click', function(e) {
    if (!e.target.matches('#userAvatar') && !e.target.closest('#userDropdown')) {
        document.getElementById('userDropdown').style.display = 'none';
    }
});

// 更新用户下拉菜单信息
function updateUserDropdown() {
    // 这里应该从实际的用户数据获取
    document.getElementById('dropdownUserId').textContent = 'USER123456';
    document.getElementById('dropdownBalance').textContent = '15.80';
}

// 用户退出登录
function userLogout() {
    if (confirm('确定要退出登录吗？')) {
        // 清除用户登录状态
        sessionStorage.removeItem('userLoggedIn');
        sessionStorage.removeItem('userData');
        window.location.href = 'index.html';
    }
}

// 在页面加载时更新用户信息
document.addEventListener('DOMContentLoaded', function() {
    updateUserDropdown();
});
// 检查用户是否已登录
        firebase.auth().onAuthStateChanged((user) => {
            if (user && user.emailVerified) {
                updateUIForUser(user);
            }
        });

         // 初始化默认国家数据
function initDefaultCountries() {
    const defaultCountries = [
        { id: 1, name: "中国", flag: "https://flagcdn.com/w40/cn.png", price: 0.10, numbers: "200,000" },
        { id: 2, name: "美国", flag: "https://flagcdn.com/w40/us.png", price: 0.15, numbers: "150,000" },
        { id: 3, name: "英国", flag: "https://flagcdn.com/w40/gb.png", price: 0.12, numbers: "120,000" },
        { id: 4, name: "加拿大", flag: "https://flagcdn.com/w40/ca.png", price: 0.13, numbers: "80,000" },
        { id: 5, name: "澳大利亚", flag: "https://flagcdn.com/w40/au.png", price: 0.14, numbers: "70,000" },
        { id: 6, name: "德国", flag: "https://flagcdn.com/w40/de.png", price: 0.11, numbers: "90,000" },
        { id: 7, name: "法国", flag: "https://flagcdn.com/w40/fr.png", price: 0.11, numbers: "85,000" },
        { id: 8, name: "俄罗斯", flag: "https://flagcdn.com/w40/ru.png", price: 0.08, numbers: "100,000" },
        { id: 9, name: "日本", flag: "https://flagcdn.com/w40/jp.png", price: 0.16, numbers: "75,000" },
        { id: 10, name: "韩国", flag: "https://flagcdn.com/w40/kr.png", price: 0.15, numbers: "65,000" },
        { id: 11, name: "印度", flag: "https://flagcdn.com/w40/in.png", price: 0.05, numbers: "180,000" },
        { id: 12, name: "印度尼西亚", flag: "https://flagcdn.com/w40/id.png", price: 0.06, numbers: "95,000" },
        { id: 13, name: "马来西亚", flag: "https://flagcdn.com/w40/my.png", price: 0.07, numbers: "60,000" },
        { id: 14, name: "泰国", flag: "https://flagcdn.com/w40/th.png", price: 0.06, numbers: "55,000" },
        { id: 15, name: "越南", flag: "https://flagcdn.com/w40/vn.png", price: 0.05, numbers: "50,000" },
        { id: 16, name: "菲律宾", flag: "https://flagcdn.com/w40/ph.png", price: 0.05, numbers: "45,000" },
        { id: 17, name: "巴西", flag: "https://flagcdn.com/w40/br.png", price: 0.09, numbers: "85,000" },
        { id: 18, name: "墨西哥", flag: "https://flagcdn.com/w40/mx.png", price: 0.08, numbers: "40,000" },
        { id: 19, name: "阿根廷", flag: "https://flagcdn.com/w40/ar.png", price: 0.07, numbers: "35,000" },
        { id: 20, name: "土耳其", flag: "https://flagcdn.com/w40/tr.png", price: 0.08, numbers: "45,000" },
        { id: 21, name: "沙特阿拉伯", flag: "https://flagcdn.com/w40/sa.png", price: 0.10, numbers: "30,000" },
        { id: 22, name: "阿联酋", flag: "https://flagcdn.com/w40/ae.png", price: 0.12, numbers: "25,000" },
        { id: 23, name: "南非", flag: "https://flagcdn.com/w40/za.png", price: 0.07, numbers: "20,000" },
        { id: 24, name: "埃及", flag: "https://flagcdn.com/w40/eg.png", price: 0.06, numbers: "25,000" },
        { id: 25, name: "尼日利亚", flag: "https://flagcdn.com/w40/ng.png", price: 0.05, numbers: "30,000" },
        { id: 26, name: "乌克兰", flag: "https://flagcdn.com/w40/ua.png", price: 0.07, numbers: "40,000" },
        { id: 27, name: "波兰", flag: "https://flagcdn.com/w40/pl.png", price: 0.09, numbers: "35,000" },
        { id: 28, name: "意大利", flag: "https://flagcdn.com/w40/it.png", price: 0.10, numbers: "45,000" },
        { id: 29, name: "西班牙", flag: "https://flagcdn.com/w40/es.png", price: 0.10, numbers: "50,000" },
        { id: 30, name: "荷兰", flag: "https://flagcdn.com/w40/nl.png", price: 0.11, numbers: "30,000" }
    ];
    
    // 合并国家数据
    const savedData = localStorage.getItem('appData');
    if (savedData) {
        try {
            const adminData = JSON.parse(savedData);
            if (adminData.services && adminData.services.length > 0) {
                const adminCountries = adminData.services.filter(service => service.type === 'country');
                adminCountries.forEach(adminCountry => {
                    const exists = servicesData.countries.some(defaultCountry => 
                        defaultCountry.name === adminCountry.name
                    );
                    if (!exists) {
                        servicesData.countries.push({
                            id: adminCountry.id,
                            name: adminCountry.name,
                            flag: adminCountry.flag,
                            price: adminCountry.price,
                            numbers: adminCountry.stock + ""
                        });
                    }
                });
            }
        } catch (error) {
            console.error('解析管理员数据失败:', error);
        }
    }
}
        
        // 服务数据 - 基于市场价格
        const servicesData = {
            services: [
                { id: 1, name: "Other", icon: "fas fa-ellipsis-h", numbers: "52,847", price: 2.00 },
                { id: 2, name: "Sica", icon: "fas fa-mobile-alt", numbers: "24,893", price: 1.20 },
                { id: 3, name: "Adobe", icon: "fab fa-adobe", numbers: "34,903", price: 1.00 },
                { id: 4, name: "Airbnb", icon: "fab fa-airbnb", numbers: "84,412", price: 1.40 },
                { id: 5, name: "Airindia", icon: "fas fa-plane", numbers: "34,903", price: 1.80 },
                { id: 6, name: "WhatsApp", icon: "fab fa-whatsapp", numbers: "125,847", price: 0.50 },
                { id: 7, name: "Telegram", icon: "fab fa-telegram", numbers: "98,432", price: 0.45 },
                { id: 8, name: "Facebook", icon: "fab fa-facebook", numbers: "156,789", price: 0.60 },
                { id: 9, name: "TikTok", icon: "fab fa-tiktok", numbers: "87,654", price: 0.55 },
                { id: 10, name: "Instagram", icon: "fab fa-instagram", numbers: "134,567", price: 0.65 }
            ],
            countries: [
                { id: 1, name: "英国", flag: "https://flagcdn.com/w40/gb.png", price: 0.15, numbers: "138,428" },
                { id: 2, name: "美国", flag: "https://flagcdn.com/w40/us.png", price: 0.10, numbers: "118,358" },
                { id: 3, name: "加拿大", flag: "https://flagcdn.com/w40/ca.png", price: 0.12, numbers: "77,106" },
                { id: 4, name: "泰国", flag: "https://flagcdn.com/w40/th.png", price: 0.08, numbers: "45,321" },
                { id: 5, name: "印度尼西亚", flag: "https://flagcdn.com/w40/id.png", price: 0.06, numbers: "89,123" },
                { id: 6, name: "菲律宾", flag: "https://flagcdn.com/w40/ph.png", price: 0.05, numbers: "67,890" },
                { id: 7, name: "印度", flag: "https://flagcdn.com/w40/in.png", price: 0.04, numbers: "156,789" },
                { id: 8, name: "马来西亚", flag: "https://flagcdn.com/w40/my.png", price: 0.07, numbers: "34,567" }
            ],
           operators: [
    { id: 1, name: "Virtual59", numbers: "45,880", price: 0.00 },
    { id: 2, name: "PremiumSMS", numbers: "52,341", price: 0.00 }
]
};  // 添加这个闭合大括号和分号

     
        // 全局变量
        let selectedService = null;
        let selectedCountry = null;
        let selectedOperator = null;


        // 初始化页面
document.addEventListener('DOMContentLoaded', function() {
    initDefaultCountries();  // 先初始化国家数据
    renderServices();
    renderCountries();
    renderOperators();
    setupEventListeners();
});

       // 渲染服务列表
function renderServices() {
    const servicesList = document.getElementById('servicesList');
    servicesList.innerHTML = '';
    
    let servicesToRender = [...servicesData.services];
    
    const savedData = localStorage.getItem('appData');
    if (savedData) {
        try {
            const adminData = JSON.parse(savedData);
            if (adminData.services && adminData.services.length > 0) {
                adminData.services.forEach(adminService => {
                    const exists = servicesToRender.some(defaultService => 
                        defaultService.name === adminService.name
                    );
                    if (!exists) {
                        servicesToRender.push(adminService);
                    }
                });
            }
        } catch (error) {
            console.error('解析管理员数据失败:', error);
        }
    }
    
    servicesToRender.forEach(service => {
        // 计算价格范围
        const priceRange = calculateServicePriceRange(service.id);
        
        const item = document.createElement('div');
        item.className = 'service-item';
        item.dataset.id = service.id;
        item.innerHTML = `
            <div class="service-info">
                <div class="service-icon-small">
                    <i class="${service.icon || 'fas fa-mobile-alt'}"></i>
                </div>
                <div class="service-name">${service.name}</div>
            </div>
            <div class="service-numbers">${service.numbers || '0'}</div>
            <div class="price-range">$${priceRange}</div>
        `;
        item.addEventListener('click', () => selectService(service));
        servicesList.appendChild(item);
    });
}
    
   
        // 渲染国家列表
function renderCountries() {
    const countriesList = document.getElementById('countriesList');
    countriesList.innerHTML = '';
    
    servicesData.countries.forEach(country => {
        const item = document.createElement('div');
        item.className = 'country-item';
        item.dataset.id = country.id;
        item.innerHTML = `
            <div class="country-info">
                <div class="country-flag-small">
                    <img src="${country.flag}" alt="${country.name}">
                </div>
                <span class="country-name">${country.name}</span>
                <span class="country-numbers">${country.numbers}</span>
            </div>
        `;
        item.addEventListener('click', () => selectCountry(country));
        countriesList.appendChild(item);
    });
}

        // 渲染运营商列表
        function renderOperators() {
            const operatorsList = document.getElementById('operatorsList');
            operatorsList.innerHTML = '';
            
            servicesData.operators.forEach(operator => {
                const item = document.createElement('div');
                item.className = 'operator-item';
                item.dataset.id = operator.id;
                item.innerHTML = `
                    <div class="operator-info">
                        <div class="operator-icon-small">
                            <i class="fas fa-sim-card"></i>
                        </div>
                        <div class="operator-name">${operator.name}</div>
                    </div>
                    <div class="operator-numbers">${operator.numbers}</div>
                    <div class="operator-price">$${operator.price.toFixed(2)}</div>
                `;
                item.addEventListener('click', () => selectOperator(operator));
                operatorsList.appendChild(item);
            });
        }

        // 计算服务价格范围
function calculateServicePriceRange(serviceId) {
    const savedPricing = localStorage.getItem('pricingRules');
    let minPrice = 999, maxPrice = 0;
    
    if (savedPricing) {
        try {
            const pricingRules = JSON.parse(savedPricing);
            const serviceRules = pricingRules.filter(rule => 
                rule.serviceId == serviceId && rule.active === true
            );
            
            serviceRules.forEach(rule => {
                if (rule.price < minPrice) minPrice = rule.price;
                if (rule.price > maxPrice) maxPrice = rule.price;
            });
        } catch (error) {
            console.error('解析价格规则失败:', error);
        }
    }
    
    // 如果没有找到价格规则，使用默认范围
    if (minPrice === 999 || maxPrice === 0) {
        return "0.10-0.60";
    }
    
    return `${minPrice.toFixed(2)}-${maxPrice.toFixed(2)}`;
}

        // 选择服务
        function selectService(service) {
            selectedService = service;
            
            // 隐藏服务列表，显示已选择的服务
            document.getElementById('servicesList').style.display = 'none';
            document.getElementById('selectedServiceItem').style.display = 'flex';
            
            // 更新UI
            document.getElementById('selectedServiceIcon').innerHTML = `<i class="${service.icon}"></i>`;
            document.getElementById('selectedServiceName').textContent = service.name;
            
            updatePriceCalculation();
            updateGetNumberButton();
        }

        // 选择国家
        function selectCountry(country) {
            selectedCountry = country;
            
            // 隐藏国家列表，显示已选择的国家
            document.getElementById('countriesList').style.display = 'none';
            document.getElementById('selectedCountryItem').style.display = 'flex';
            
            // 更新UI
            document.getElementById('selectedCountryIcon').innerHTML = `<img src="${country.flag}" alt="${country.name}" style="width: 100%; height: 100%; border-radius: 6px;">`;
            document.getElementById('selectedCountryName').textContent = country.name;
            
            updatePriceCalculation();
            updateGetNumberButton();
        }

        // 选择运营商
        function selectOperator(operator) {
            selectedOperator = operator;
            
            // 更新UI
            document.querySelectorAll('.operator-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            updateGetNumberButton();
        }

        // 更新价格计算
        function updatePriceCalculation() {
            const priceCalculation = document.getElementById('priceCalculation');
            
            if (selectedService && selectedCountry) {
                priceCalculation.style.display = 'block';
                
                const servicePrice = selectedService.price;
                const countryPrice = selectedCountry.price;
                const totalPrice = servicePrice + countryPrice;
                
                document.getElementById('servicePriceValue').textContent = `$${servicePrice.toFixed(2)}`;
                document.getElementById('countryPriceValue').textContent = `$${countryPrice.toFixed(2)}`;
                document.getElementById('totalPriceValue').textContent = `$${totalPrice.toFixed(2)}`;
            } else {
                priceCalculation.style.display = 'none';
            }
        }

        // 更新获取号码按钮状态
        function updateGetNumberButton() {
            const getNumberBtn = document.getElementById('getNumberBtn');
            
            if (selectedService && selectedCountry && selectedOperator) {
                getNumberBtn.disabled = false;
            } else {
                getNumberBtn.disabled = true;
            }
        }

        // 移除服务选择
        function removeServiceSelection() {
            selectedService = null;
            document.getElementById('selectedServiceItem').style.display = 'none';
            document.getElementById('servicesList').style.display = 'block';
            document.getElementById('priceCalculation').style.display = 'none';
            updateGetNumberButton();
        }

        // 移除国家选择
        function removeCountrySelection() {
            selectedCountry = null;
            document.getElementById('selectedCountryItem').style.display = 'none';
            document.getElementById('countriesList').style.display = 'block';
            document.getElementById('priceCalculation').style.display = 'none';
            updateGetNumberButton();
        }

        // 获取号码
        function getNumber() {
            if (!selectedService || !selectedCountry || !selectedOperator) {
                alert('请先选择服务、国家和运营商');
                return;
            }
            
            const totalPrice = selectedService.price + selectedCountry.price;
            alert(`成功获取号码！\n服务: ${selectedService.name}\n国家: ${selectedCountry.name}\n运营商: ${selectedOperator.name}\n价格: $${totalPrice.toFixed(2)}`);
            
            // 这里可以添加实际的获取号码逻辑
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 移除选择事件
            document.getElementById('removeServiceSelection').addEventListener('click', removeServiceSelection);
            document.getElementById('removeCountrySelection').addEventListener('click', removeCountrySelection);
            
            // 获取号码按钮
            document.getElementById('getNumberBtn').addEventListener('click', getNumber);
            
            // 标签切换
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有active类
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // 添加active类
                    this.classList.add('active');
                    document.getElementById(`${this.dataset.tab}-tab`).classList.add('active');
                });
            });
            
            // FAQ展开/收起
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const item = this.parentElement;
                    item.classList.toggle('active');
                });
            });
            
            // 搜索功能
            document.getElementById('serviceSearch').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                filterItems('servicesList', searchTerm);
            });

            document.getElementById('countrySearch').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                filterItems('countriesList', searchTerm);
            });

            function filterItems(listId, searchTerm) {
                const items = document.getElementById(listId).querySelectorAll('.service-item, .country-item');
                
                items.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            }
        }
    </script>
</body>
</html>
        console.log('7SIM平台初始化完成');
    </script>
</body>
</html>
  
